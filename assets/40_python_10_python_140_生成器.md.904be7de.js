import{_ as s,c as n,o as a,b as l}from"./app.8608f89d.js";const _=JSON.parse('{"title":"\u751F\u6210\u5668","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u751F\u6210\u5668","slug":"\u751F\u6210\u5668"},{"level":2,"title":"yield","slug":"yield"}],"relativePath":"40_python/10_python/140_\u751F\u6210\u5668.md"}'),p={name:"40_python/10_python/140_\u751F\u6210\u5668.md"},e=l(`<h2 id="\u751F\u6210\u5668" tabindex="-1">\u751F\u6210\u5668 <a class="header-anchor" href="#\u751F\u6210\u5668" aria-hidden="true">#</a></h2><blockquote><p>\u751F\u6210\u5668\u662F\u8FED\u4EE3\u5668\u7684\u4E00\u79CD\u7279\u4F8B\uFF0C\u662F\u7279\u6B8A\u7684\u8FED\u4EE3\u5668\uFF0C\u4E5F\u6709\u8FED\u4EE3\u5668\u7684&#39;<em>_iter__&#39;\u548C&#39;</em>_next__&#39;\u8FD9\u4E24\u4E2A\u65B9\u6CD5 \uFF0C\u4E5F\u662F\u53EF\u4EE5\u88AB\u904D\u5386\u7684\uFF0C\u533A\u522B\u662F\u66F4\u8282\u7701\u5185\u5B58\uFF0C\u6BCF\u6B21\u53EA\u80FD\u751F\u6210\u4E00\u4E2A\u5BF9\u8C61,\u62FF\u8D70\u4E4B\u540E\u5C31\u6CA1\u6709\u4E86.</p><p>\u6682\u65F6\u8FD9\u4E48\u7406\u89E3\uFF1A\u91CC\u9762\u653E\u4E86\u4E00\u4E2A\u5217\u8868\uFF0C\u6307\u9488\u6307\u5411\u5217\u8868\u4E2D\u7684\u4E00\u4E2A\u5143\u7D20\uFF0C\u6307\u9488\u53EA\u80FD\u5F80\u524D\u8D70\uFF0C\u4E0D\u80FD\u5F80\u540E\u9000</p><p>\u53C2\u8003\u6587\u6863\uFF1A<a href="https://www.bilibili.com/video/BV1BT4y1P7nn?from=search&amp;seid=16150640023895278497&amp;spm_id_from=333.337.0.0" target="_blank" rel="noreferrer">https://www.bilibili.com/video/BV1BT4y1P7nn?from=search&amp;seid=16150640023895278497&amp;spm_id_from=333.337.0.0</a></p></blockquote><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">\u5B9A\u4E49\uFF1A\u4E00\u4E2A\u51FD\u6570\u8C03\u7528\u65F6\u8FD4\u56DE\u4E00\u4E2A\u8FED\u4EE3\u5668\uFF0C\u8FD9\u4E2A\u51FD\u6570\u5C31\u53EB\u505A\u751F\u6210\u5668(\u5982\u679C\u51FD\u6570\u4E2D\u5305\u542Byield\u8BED\u6CD5\uFF0C\u90A3\u8FD9\u4E2A\u51FD\u6570\u5C31\u4F1A\u53D8\u6210\u751F\u6210\u5668)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">def cash_money(amount):</span></span>
<span class="line"><span style="color:#A6ACCD;">    while amount &gt; 0:</span></span>
<span class="line"><span style="color:#A6ACCD;">        amount -= 100</span></span>
<span class="line"><span style="color:#A6ACCD;">        yield 100               #\u6267\u884C\u5230yield\u7A0B\u5E8F\u5C31\u4E2D\u65AD\u6267\u884C\u4E86\uFF0C100\u662F\u6267\u884Catm.next()\u65F6\u8FD4\u56DE100,\u63A5\u6536\u503C\u901A\u8FC7\u522B\u4EBA\u7684send\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">        print &#39;\u53C8\u6765\u53D6\u94B1\u4E86\uFF01&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">atm=cash_money(500)     #atm\u662F\u4E00\u4E2A\u751F\u6210\u5668\uFF0C</span></span>
<span class="line"><span style="color:#A6ACCD;">print type(atm)          #\u8F93\u51FA\u7ED3\u679C\uFF1A&lt;type &#39;generator&#39;&gt; ,\u800Ctype(cash_money)\u53EA\u662F\u4E00\u4E2A\u666E\u901A\u51FD\u6570&lt;type &#39;function&#39;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">print atm.next()         #\u5B9E\u9645\u73AF\u5883\u4E2D\u597D\u50CF\u4E0D\u592A\u5E38\u7528print next\u8FD9\u79CD\u5427\uFF0C\u611F\u89C9\u6CA1\u4EC0\u4E48\u7528\uFF1A1\uFF0C\u9700\u8981\u4E0A\u9762yield\u8FD4\u56DE  2\uFF0C\u8FD4\u56DE\u56FA\u5B9A\u7684\u503C</span></span>
<span class="line"><span style="color:#A6ACCD;">print atm.next()</span></span>
<span class="line"><span style="color:#A6ACCD;">print atm.next()</span></span>
<span class="line"><span style="color:#A6ACCD;">print &#39;\u51FA\u53BB\u770B\u7535\u5F71\uFF01&#39;     #\u5B9E\u73B0\u5F02\u6B65,\u4FDD\u5B58\u51FD\u6570\u6267\u884C\u8FC7\u7A0B\u4E2D\u7684\u4E2D\u65AD\u72B6\u6001,\u968F\u4FBF\u8DF3\u51FA\u3001\u8DF3\u5165\u4E0A\u9762\u7684while\u5FAA\u73AF</span></span>
<span class="line"><span style="color:#A6ACCD;">print atm.next()</span></span>
<span class="line"><span style="color:#A6ACCD;">print atm.next()</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>#\u5B9E\u73B0\u751F\u6210\u5668\u7684\u4E09\u79CD\u65B9\u5F0F</strong></p><p><strong>\u65B9\u5F0F\u4E00\uFF1A tuple\u63A8\u5BFC\u5F0F\u65B9\u5F0F</strong></p><div class="language-python"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#A6ACCD;">t </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">*</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#676E95;">#t.next()                        #\u597D\u50CF\u6CA1\u6709\u8FD9\u4E2A\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> t</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">i</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><p><strong>\u65B9\u5F0F\u4E8C\uFF1A yield</strong></p><div class="language-python"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">say</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">say</span><span style="color:#89DDFF;">():</span><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">i</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">				</span><span style="color:#676E95;">#say()\u662F\u4E00\u4E2A\u751F\u6210\u5668\u5BF9\u8C61</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">#t=say();	t.next()					#t.next()\u597D\u50CF\u4E0D\u652F\u6301\u8FD9\u79CD\u5199\u6CD5\uFF0Cpython2.7\u65F6\u597D\u50CF\u662F\u652F\u6301\u7684</span></span>
<span class="line"></span></code></pre></div><p><strong>\u65B9\u5F0F\u4E09\uFF1A \u5B9E\u73B0__iter__\u3001next</strong></p><h2 id="yield" tabindex="-1">yield <a class="header-anchor" href="#yield" aria-hidden="true">#</a></h2><blockquote><p>#\u6267\u884C\u5230yield\u8BED\u53E5\uFF0C\u5C31\u628A\u540E\u9762\u7684\u7ED3\u679Creturn\u4E86\uFF0C\u7136\u540E\u5C06\u63A7\u5236\u6743\u4EA4\u51FA\u53BB\uFF0C\u8C03\u7528next\u65B9\u6CD5\u7684\u65F6\u5019\u5C31\u662F\u901A\u77E5\u53C8\u56DE\u5230\u7A0B\u5E8F\u4E2D\uFF1Bsend()\u65B9\u6CD5\u5B9E\u9645\u4E5F\u662F\u8C03\u7528\u4E86\u4E00\u6B21next()</p><p>#next\u65B9\u6CD5\u76F8\u5F53\u4E8Esend\u4E86\u4E00\u4E2A\u7A7A\uFF0Csend(None)</p><p>\u53C2\u8003\u6587\u6863\uFF1A<a href="https://blog.csdn.net/mieleizhi0522/article/details/82142856/" target="_blank" rel="noreferrer">https://blog.csdn.net/mieleizhi0522/article/details/82142856/</a></p><p><a href="https://www.bilibili.com/video/BV1BT4y1P7nn?from=search&amp;seid=16150640023895278497&amp;spm_id_from=333.337.0.0" target="_blank" rel="noreferrer">https://www.bilibili.com/video/BV1BT4y1P7nn?from=search&amp;seid=16150640023895278497&amp;spm_id_from=333.337.0.0</a></p></blockquote><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">def say():</span></span>
<span class="line"><span style="color:#A6ACCD;">    for i in range(10):</span></span>
<span class="line"><span style="color:#A6ACCD;">        t = yield i</span></span>
<span class="line"><span style="color:#A6ACCD;">        print(t)</span></span>
<span class="line"><span style="color:#A6ACCD;">t=say()								#t\u662F\u4E00\u4E2A\u751F\u6210\u5668\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#A6ACCD;">for i in range(10,20):</span></span>
<span class="line"><span style="color:#A6ACCD;">    t.send(i)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">class Foo(object):</span></span>
<span class="line"><span style="color:#A6ACCD;">    def __iter__(self):    </span></span>
<span class="line"><span style="color:#A6ACCD;">        yield 1</span></span>
<span class="line"><span style="color:#A6ACCD;">        yield 2</span></span>
<span class="line"><span style="color:#A6ACCD;">        yield 3</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">for item in Foo():</span></span>
<span class="line"><span style="color:#A6ACCD;">    print(item)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ul><li><p>\u81EA\u5B9A\u4E49\u5FAA\u73AF\u8FED\u4EE3\u5668</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">class Xarge(object):</span></span>
<span class="line"><span style="color:#A6ACCD;">    def __init__(self,max_num) -&gt; None:</span></span>
<span class="line"><span style="color:#A6ACCD;">        self.max_num = max_num</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    def __iter__(self):						#\u53EA\u5B9A\u4E49\u4E86__iter__\u65B9\u6CD5\uFF0C\u6CA1\u6709\u5B9A\u4E49__next__\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">        counter = 0</span></span>
<span class="line"><span style="color:#A6ACCD;">        while counter &lt; self.max_num:</span></span>
<span class="line"><span style="color:#A6ACCD;">            yield counter</span></span>
<span class="line"><span style="color:#A6ACCD;">            counter += 1</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">obj = Xarge(100)				#dir(obj.__iter__())\u4E2D\u6709__next__\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">for item in obj:</span></span>
<span class="line"><span style="color:#A6ACCD;">    print(item)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li></ul>`,14),o=[e];function t(c,r,i,y,A,C){return a(),n("div",null,o)}const d=s(p,[["render",t]]);export{_ as __pageData,d as default};
