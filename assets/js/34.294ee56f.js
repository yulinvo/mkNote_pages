(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{307:function(t,n,e){"use strict";e.r(n);var s=e(13),a=Object(s.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v(" yum install vsftpd*\n yum install pam*\n yum install db4*\n useradd virftp -s /sbin/nologin                #这个不能加-M\n useradd overlord -s /sbin/nologin              #这个好像没什么用\n")])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("[root@new3 /etc/vsftpd]#ll\ntotal 32\n-rw------- 1 root root   125 Nov  6  2016 ftpusers\n-rw------- 1 root root   361 Nov  6  2016 user_list\n-rw------- 1 root root   462 May  4 15:12 vsftpd.conf\n-rwxr--r-- 1 root root   338 Nov  6  2016 vsftpd_conf_migrate.sh\n-rw-r--r-- 1 root root    38 May  2 13:14 vsftpd_login\n-rw-r--r-- 1 root root 12288 May  2 13:18 vsftpd_login.db\ndrwxr-xr-x 2 root root  4096 May  4 15:09 vsftpd_user_conf\n")])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("[root@new3 /etc/vsftpd]#cat vsftpd.conf\nanonymous_enable=NO\nlocal_enable=YES\nwrite_enable=YES\nlocal_umask=022\nanon_upload_enable=NO\nanon_mkdir_write_enable=NO\ndirmessage_enable=YES\nxferlog_enable=YES\nconnect_from_port_20=YES\nxferlog_std_format=YES\nchroot_local_user=YES\nguest_enable=YES\nguest_username=virftp\nvirtual_use_local_privs=YES\nuser_config_dir=/etc/vsftpd/vsftpd_user_conf\nlisten=YES\npam_service_name=vsftpd\nuserlist_enable=YES\ntcp_wrappers=YES\nallow_writeable_chroot=YES\npasv_promiscuous=YES\n")])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("[root@new3 /etc/vsftpd]#cat vsftpd_login\nadministrator\nzwwl2017\nadmin\nzwwl2017\n")])])]),n("p",[n("strong",[t._v("db_load -T -t hash -f /etc/vsftpd/vsftpd_login /etc/vsftpd/vsftpd_login.db")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("[root@new3 /etc/vsftpd]#cat /etc/pam.d/vsftpd\n#%PAM-1.0\nauth    sufficient      /lib64/security/pam_userdb.so     db=/etc/vsftpd/vsftpd_login\naccount sufficient      /lib64/security/pam_userdb.so     db=/etc/vsftpd/vsftpd_login\n\nsession    optional     pam_keyinit.so    force revoke\nauth       required    pam_listfile.so item=user sense=deny file=/etc/vsftpd/ftpusers onerr=succeed\nauth       required    pam_shells.so\nauth       include    password-auth\naccount    include    password-auth\nsession    required     pam_loginuid.so\nsession    include    password-auth\n")])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("[root@new3 /etc/vsftpd/vsftpd_user_conf]#cat administrator\nlocal_root=/web/weixinrobot3_1/Source/public/7tiangongduyibenshu3.25\nanonymous_enable=NO\nwrite_enable=YES\nlocal_umask=000\nanon_upload_enable=NO\nanon_mkdir_write_enable=NO\n")])])])])}),[],!1,null,null,null);n.default=a.exports}}]);