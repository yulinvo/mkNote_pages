(window.webpackJsonp=window.webpackJsonp||[]).push([[175],{445:function(s,t,l){"use strict";l.r(t);var a=l(13),e=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"win下安装-解压版mysql-5-7-19"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#win下安装-解压版mysql-5-7-19"}},[s._v("#")]),s._v(" win下安装  解压版mysql-5.7.19")]),s._v(" "),t("p",[s._v("1，解压后新建my.ini文件( 安装的时候只有basedir、datadir这两个配置项就可以 )")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[Client]\nport = 3306\t\t\t\t\t\t\t\t\t\t\t#设置3306端口\n\n\n[mysqld]\nport = 3306\t\t\t\t\t\t\t\t\t\t\t#设置3306端口\nbasedir = C:\\mysql-5.7.19-winx64\t\t\t\t\t# 设置mysql的安装目录\ndatadir = C:\\mysql-5.7.19-winx64\\data             \t# 设置mysql数据库的数据的存放目录\nmax_connections=200\t\t\t\t\t\t\t\t\t# 允许最大连接数\nlog_error = C:\\mysql-5.7.19-winx64\\mysql-error.log\t\ncharacter-set-server=utf8\ndefault-storage-engine=INNODB\t\t\t\t\t\t# 创建新表时将使用的默认存储引擎\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\n\n\n[mysql]\ndefault-character-set=utf8\t\t\t\t\t\t\t# 设置mysql客户端默认字符集\n")])])]),t("p",[s._v("2，安装、卸载mysql服务")]),s._v(" "),t("p",[s._v("参考链接：https://blog.csdn.net/muyimo/article/details/69384740")]),s._v(" "),t("p",[t("strong",[s._v("安装服务")])]),s._v(" "),t("ol",[t("li",[t("p",[s._v("安装服务")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysqld -install\n\n要在bin目录下手动初始化data目录:\n    mysqld --initialize-insecure              # root帐号不带密码\n    mysqld --initialize                #自动生成带随机密码的root用户\n    mysqld --initialize --console      #不加参数--console，就要在my.ini中定义log_error，里面会记录生成的临时密码\n")])])])])]),s._v(" "),t("p",[s._v("​")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("获取初次安装时生成的临时密码：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("解决如下5.7.11增强了安全性，在安装的过程中会生产root的随机密码，先查看这个密码：\ncat /var/log/mysqld.log | grep temporary password\n---2016-06-03T16:49:41.645458Z 1 [Note] A temporary password is generated for root@localhost: n,LuI)Fz8,a3\n\n然后运行 mysql_secure_installation进行安全安装输入上面得到的随机密码 n,LuI)Fz8,a3以后，修改输入新密码即可，注意要满足强度要求。\n")])])])])]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[s._v("启动服务")])]),s._v(" "),t("p",[s._v("​\t\tnet start mysql")]),s._v(" "),t("p",[s._v("​\t\tmysql -uroot -p 'xx'            #xx为刚才mysqld --initialize --console初始密码")]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[t("p",[s._v("更改mysql的root密码")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("方式一")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("进入cmd界面（不是mysql试图）使用：\n\nmysqladmin -u'root' password  提示框中输入密码‘123456’\n\nmysqladmin -u'username' -h HOSTNAME  password  'new_pass' -h\n")])])])]),s._v(" "),t("li",[t("p",[s._v("方式二")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql> set password for root@localhost = password('123456');    # 这个好行不需要flush privileges;\n")])])])]),s._v(" "),t("li",[t("p",[s._v("方式三")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql> update user set authentication_string=password('123456') where user='root';\nmysql> flush privileges;\n")])])])]),s._v(" "),t("li",[t("p",[s._v("方式四（忘记是否可行了）")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ALTER USER 'root'@'localhost' IDENTIFIED BY 'new_password';\n")])])])]),s._v(" "),t("li",[t("p",[s._v("这种方式为啥不行呢？？？")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql> update mysql.user set password=password('881222') where user='root';\n\t\t\t\t\t\t\tPassword=PASSWORD('new_pass')            这种么？？？\n")])])])])])])]),s._v(" "),t("p",[t("strong",[s._v("卸载服务：")])]),s._v(" "),t("p",[s._v("net stop mysql\nmysqld -remove            #mysqld remove mysql2")]),s._v(" "),t("h3",{attrs:{id:"win下启动多个mysql服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#win下启动多个mysql服务"}},[s._v("#")]),s._v(" win下启动多个mysql服务")]),s._v(" "),t("p",[s._v("(regedit  --\x3e>  HKEY_LOCAL_MACHINE---\x3eSYSTEM---\x3eCurrentControlSet---\x3eservices）")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("C:\\mysql-5.7.19-winx64-2\\bin\\mysqld -install mysql2  、")])]),s._v(" "),t("li",[t("p",[s._v("安装之后直接net start mysql2就行了，修改注册表的都没有成功，好像不用修改注册表")]),s._v(" "),t("p",[s._v("启动不成功时：")]),s._v(" "),t("p",[s._v("​\t1）先执行   C:\\mysql-5.7.19-winx64-2\\bin\\mysqld --initialize-insecure        #mysqld一定要用全路径")]),s._v(" "),t("p",[s._v("​\t2）C:\\mysql-5.7.19-winx64-2\\bin\\mysqld --initialize --console       #同上")]),s._v(" "),t("p",[s._v("​\t3）net start mysql2")])]),s._v(" "),t("li",[t("p",[s._v("登录：C:\\mysql-5.7.19-winx64-2\\bin\\mysql -uroot -P3307 -p")])])]),s._v(" "),t("h2",{attrs:{id:"linux下rpm安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux下rpm安装"}},[s._v("#")]),s._v(" linux下rpm安装")]),s._v(" "),t("p",[s._v("1，rpm -ivh mysql-community-common-5.7.19-1.el7.x86_64.rpm")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("安装时候可能会报错：\n    file /usr/share/mysql/charsets/keybcs2.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64\n    file /usr/share/mysql/charsets/koi8r.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64\n    file /usr/share/mysql/charsets/koi8u.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64\n    file /usr/share/mysql/charsets/latin1.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64\n    file /usr/share/mysql/charsets/latin2.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64\n    file /usr/share/mysql/charsets/latin5.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64\n    file /usr/share/mysql/charsets/latin7.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64\n    file /usr/share/mysql/charsets/macce.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64\n    file /usr/share/mysql/charsets/macroman.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64\n    file /usr/share/mysql/charsets/swe7.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64\n\n解决方法：\nyum remove mariadb-libs\n")])])]),t("p",[s._v("rpm -ivh mysql-community-libs-5.7.19-1.el7.x86_64.rpm")]),s._v(" "),t("p",[s._v("rpm -ivh mysql-community-client-5.7.19-1.el7.x86_64.rpm")]),s._v(" "),t("p",[s._v("yum install libaio libaio-devel")]),s._v(" "),t("p",[s._v("rpm -ivh mysql-community-server-5.7.19-1.el7.x86_64.rpm\n参考文章（里面包含主从配置）：http://blog.csdn.net/ziele_008/article/details/77751051")]),s._v(" "),t("h2",{attrs:{id:"linux源码编译安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux源码编译安装"}},[s._v("#")]),s._v(" linux源码编译安装")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cd /usr/local/src/mysql-5.7.19/\n\ncmake -DCMAKE_INSTALL_PREFIX=/usr/local/mysql-5.7.19 -DMYSQL_DATADIR=/data/mysql-5.7.19 -DMYSQL_UNIX_ADDR=/data/mysql-5.7.19/mysql.sock -DWITH_INNOBASE_STORAGE_ENGINE=1 -DENABLED_LOCAL_INFILE=1  -DDEFAULT_CHARSET=utf8  -DDEFALUT_CHARSETS=all  -DWITH_BLACKHOLE_STORAGE_ENGINE=1  -DWITH_ARCHIVE_STORAGE_ENGINE=1  -DWITH_PARTITION_STORAGE_ENGINE=1   -DDEFAULT_COLLATION=utf8_general_ci  -DMYSQL_USER=mysql   -DEXTRA_CHARSETS=all  -DMYSQL_TCP_PORT=3306  -DWITH_DEBUG=0 -DWITH_BOOST=../boost_1_59_0\n\n新加的参数：\n从MySQL 5.7.5开始Boost库是必需的\n-DWITH_BOOST=boost/boost_1_59_0/  指定boost的位置，如-DWITH_BOOST=../boost_1_59_0\n-DDOWNLOAD_BOOST=1 -DWITH_BOOST=1    系统会在编译之前先下载boost\n")])])]),t("p",[s._v("如果之前编译不成功，请执行以下命令：")]),s._v(" "),t("p",[s._v("make clean")]),s._v(" "),t("p",[s._v("rm CMakeCache.txt")]),s._v(" "),t("p",[s._v("创建user、group，修改datadir的属主和属组")]),s._v(" "),t("p",[s._v("(可选)安装ssl,可指定文件生成路径，默认为DATA里面,      /usr/local/mysql-5.7.19/bin]#./mysql_ssl_rsa_setup")]),s._v(" "),t("p",[s._v("初始化数据库：/usr/local/mysql-5.7.19/bin]#  ./mysqld --initialize --user=mysql --basedir=/usr/local/mysql-5.7.19 --datadir=/data/mysql-5.7.19")]),s._v(" "),t("p",[s._v("复制启动文件：/usr/local/mysql-5.7.19/support-files]#cp mysql.server /etc/init.d/mysqld       2，/etc/init.d/mysqld start     如果启动文件没有复制/etc/init.d/mysqld，启动方式如下： ."),t("strong",[s._v("/mysqld_safe --defaults-file=/etc/my.cnf &")])])])}),[],!1,null,null,null);t.default=e.exports}}]);