(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{288:function(s,e,n){"use strict";n.r(e);var a=n(13),o=Object(a.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("如果你了解过其他的配置管理工具，比如 puppet或者saltstack，那么你一定知道，如果我们想要使用puppet管理100台主机，就要在这100台主机上安装puppet对应的agent（客户端代理程序），而ansible则不同，ansible只需要依赖ssh即可正常工作，不用在受管主机上安装agent")]),s._v(" "),e("p",[s._v("wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo\nyum install ansible")]),s._v(" "),e("p",[s._v('ssh密钥：\n当前系统为centos6：ssh-copy-id -i ~/.ssh/id_rsa.pub "zsy@10.1.0.3 -p 22222"\n当前系统为centos7：ssh-copy-id -i ~/.ssh/id_rsa.pub zsy@10.1.0.3 -p 22222\ncat ~/.ssh/id_rsa.pub | ssh -p 22 zsy@10.1.0.3 "umask 077;mkdir -p ~/.ssh;cat - >> ~/.ssh/authorized_keys"')]),s._v(" "),e("p",[s._v("ansible all -m ping\nansible A -m ping")]),s._v(" "),e("p",[s._v('ansible-doc -l\nansible-doc -s ping\nansible-doc -s fetch\nansible A -m fetch -a "src=/etc/fstab dest=/home/"    # -a用于传递模块的参数\nansible 192.168.19.12 -m command -a "cat /etc/fstab"')]),s._v(" "),e("p",[s._v('当返回信息为绿色时，"changed"为false，表示ansible没有进行任何操作，没有"改变什么"。\n当返回信息为黄色时，"changed"为true，表示ansible执行了操作，"当前状态"已经被ansible改变成了"目标状态"。\n通过命令的方式调用模块，这种直接在命令行中运行的ansible命令被称作为"ad-hoc命令"')]),s._v(" "),e("p",[s._v('copy:\nansible No2 -m copy -a "src=/home/testdir dest=/home"\nansible No2 -m copy -a "content=\'hello world\\n1234\\n\' dest=/home/adf force=no"\nansible No2 -m copy -a "content=\'hello world\\n1234\\n\' dest=/home/adf  backup=yes"\n如果同时有force=no 和backup =yes则不会发生替换（也不会备份）\nansible No2 -m copy -a "content=\'hello world\\n1234\\n\' dest=/home/adf owner=aaa group=aaa ode=755  backup=yes"')])])}),[],!1,null,null,null);e.default=o.exports}}]);