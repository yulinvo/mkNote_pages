import{_ as s,c as l,o as a,b as n}from"./app.8608f89d.js";const d=JSON.parse('{"title":"win\u4E0B\u5B89\u88C5  \u89E3\u538B\u7248mysql-5.7.19","description":"","frontmatter":{},"headers":[{"level":2,"title":"win\u4E0B\u5B89\u88C5  \u89E3\u538B\u7248mysql-5.7.19","slug":"win\u4E0B\u5B89\u88C5-\u89E3\u538B\u7248mysql-5-7-19"},{"level":3,"title":"win\u4E0B\u542F\u52A8\u591A\u4E2Amysql\u670D\u52A1","slug":"win\u4E0B\u542F\u52A8\u591A\u4E2Amysql\u670D\u52A1"},{"level":2,"title":"linux\u4E0Brpm\u5B89\u88C5","slug":"linux\u4E0Brpm\u5B89\u88C5"},{"level":2,"title":"linux\u6E90\u7801\u7F16\u8BD1\u5B89\u88C5","slug":"linux\u6E90\u7801\u7F16\u8BD1\u5B89\u88C5"}],"relativePath":"50_DB\u6570\u636E\u5E93/20_mysql/mysql\u5B89\u88C5.md"}'),p={name:"50_DB\u6570\u636E\u5E93/20_mysql/mysql\u5B89\u88C5.md"},e=n(`<h2 id="win\u4E0B\u5B89\u88C5-\u89E3\u538B\u7248mysql-5-7-19" tabindex="-1">win\u4E0B\u5B89\u88C5 \u89E3\u538B\u7248mysql-5.7.19 <a class="header-anchor" href="#win\u4E0B\u5B89\u88C5-\u89E3\u538B\u7248mysql-5-7-19" aria-hidden="true">#</a></h2><p>1\uFF0C\u89E3\u538B\u540E\u65B0\u5EFAmy.ini\u6587\u4EF6( \u5B89\u88C5\u7684\u65F6\u5019\u53EA\u6709basedir\u3001datadir\u8FD9\u4E24\u4E2A\u914D\u7F6E\u9879\u5C31\u53EF\u4EE5 )</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">[Client]</span></span>
<span class="line"><span style="color:#A6ACCD;">port = 3306											#\u8BBE\u7F6E3306\u7AEF\u53E3</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">[mysqld]</span></span>
<span class="line"><span style="color:#A6ACCD;">port = 3306											#\u8BBE\u7F6E3306\u7AEF\u53E3</span></span>
<span class="line"><span style="color:#A6ACCD;">basedir = C:\\mysql-5.7.19-winx64					# \u8BBE\u7F6Emysql\u7684\u5B89\u88C5\u76EE\u5F55</span></span>
<span class="line"><span style="color:#A6ACCD;">datadir = C:\\mysql-5.7.19-winx64\\data             	# \u8BBE\u7F6Emysql\u6570\u636E\u5E93\u7684\u6570\u636E\u7684\u5B58\u653E\u76EE\u5F55</span></span>
<span class="line"><span style="color:#A6ACCD;">max_connections=200									# \u5141\u8BB8\u6700\u5927\u8FDE\u63A5\u6570</span></span>
<span class="line"><span style="color:#A6ACCD;">log_error = C:\\mysql-5.7.19-winx64\\mysql-error.log	</span></span>
<span class="line"><span style="color:#A6ACCD;">character-set-server=utf8</span></span>
<span class="line"><span style="color:#A6ACCD;">default-storage-engine=INNODB						# \u521B\u5EFA\u65B0\u8868\u65F6\u5C06\u4F7F\u7528\u7684\u9ED8\u8BA4\u5B58\u50A8\u5F15\u64CE</span></span>
<span class="line"><span style="color:#A6ACCD;">sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">[mysql]</span></span>
<span class="line"><span style="color:#A6ACCD;">default-character-set=utf8							# \u8BBE\u7F6Emysql\u5BA2\u6237\u7AEF\u9ED8\u8BA4\u5B57\u7B26\u96C6</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>2\uFF0C\u5B89\u88C5\u3001\u5378\u8F7Dmysql\u670D\u52A1</p><p>\u53C2\u8003\u94FE\u63A5\uFF1A<a href="https://blog.csdn.net/muyimo/article/details/69384740" target="_blank" rel="noreferrer">https://blog.csdn.net/muyimo/article/details/69384740</a></p><p><strong>\u5B89\u88C5\u670D\u52A1</strong></p><ol><li><p>\u5B89\u88C5\u670D\u52A1</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">mysqld -install</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">\u8981\u5728bin\u76EE\u5F55\u4E0B\u624B\u52A8\u521D\u59CB\u5316data\u76EE\u5F55:</span></span>
<span class="line"><span style="color:#A6ACCD;">    mysqld --initialize-insecure              # root\u5E10\u53F7\u4E0D\u5E26\u5BC6\u7801</span></span>
<span class="line"><span style="color:#A6ACCD;">    mysqld --initialize                #\u81EA\u52A8\u751F\u6210\u5E26\u968F\u673A\u5BC6\u7801\u7684root\u7528\u6237</span></span>
<span class="line"><span style="color:#A6ACCD;">    mysqld --initialize --console      #\u4E0D\u52A0\u53C2\u6570--console\uFF0C\u5C31\u8981\u5728my.ini\u4E2D\u5B9A\u4E49log_error\uFF0C\u91CC\u9762\u4F1A\u8BB0\u5F55\u751F\u6210\u7684\u4E34\u65F6\u5BC6\u7801</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li></ol><p>\u200B</p><ul><li><p>\u83B7\u53D6\u521D\u6B21\u5B89\u88C5\u65F6\u751F\u6210\u7684\u4E34\u65F6\u5BC6\u7801\uFF1A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">\u89E3\u51B3\u5982\u4E0B5.7.11\u589E\u5F3A\u4E86\u5B89\u5168\u6027\uFF0C\u5728\u5B89\u88C5\u7684\u8FC7\u7A0B\u4E2D\u4F1A\u751F\u4EA7root\u7684\u968F\u673A\u5BC6\u7801\uFF0C\u5148\u67E5\u770B\u8FD9\u4E2A\u5BC6\u7801\uFF1A</span></span>
<span class="line"><span style="color:#A6ACCD;">cat /var/log/mysqld.log | grep temporary password</span></span>
<span class="line"><span style="color:#A6ACCD;">---2016-06-03T16:49:41.645458Z 1 [Note] A temporary password is generated for root@localhost: n,LuI)Fz8,a3</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">\u7136\u540E\u8FD0\u884C mysql_secure_installation\u8FDB\u884C\u5B89\u5168\u5B89\u88C5\u8F93\u5165\u4E0A\u9762\u5F97\u5230\u7684\u968F\u673A\u5BC6\u7801 n,LuI)Fz8,a3\u4EE5\u540E\uFF0C\u4FEE\u6539\u8F93\u5165\u65B0\u5BC6\u7801\u5373\u53EF\uFF0C\u6CE8\u610F\u8981\u6EE1\u8DB3\u5F3A\u5EA6\u8981\u6C42\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li></ul><ol start="2"><li>\u542F\u52A8\u670D\u52A1</li></ol><p>\u200B net start mysql</p><p>\u200B mysql -uroot -p &#39;xx&#39; #xx\u4E3A\u521A\u624Dmysqld --initialize --console\u521D\u59CB\u5BC6\u7801</p><ol start="3"><li><p>\u66F4\u6539mysql\u7684root\u5BC6\u7801</p><ul><li><p>\u65B9\u5F0F\u4E00</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">\u8FDB\u5165cmd\u754C\u9762\uFF08\u4E0D\u662Fmysql\u8BD5\u56FE\uFF09\u4F7F\u7528\uFF1A</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">mysqladmin -u&#39;root&#39; password  \u63D0\u793A\u6846\u4E2D\u8F93\u5165\u5BC6\u7801\u2018123456\u2019</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">mysqladmin -u&#39;username&#39; -h HOSTNAME  password  &#39;new_pass&#39; -h</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li><p>\u65B9\u5F0F\u4E8C</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">mysql&gt; set password for root@localhost = password(&#39;123456&#39;);    # \u8FD9\u4E2A\u597D\u884C\u4E0D\u9700\u8981flush privileges;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li><p>\u65B9\u5F0F\u4E09</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">mysql&gt; update user set authentication_string=password(&#39;123456&#39;) where user=&#39;root&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">mysql&gt; flush privileges;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li><p>\u65B9\u5F0F\u56DB\uFF08\u5FD8\u8BB0\u662F\u5426\u53EF\u884C\u4E86\uFF09</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;new_password&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li><p>\u8FD9\u79CD\u65B9\u5F0F\u4E3A\u5565\u4E0D\u884C\u5462\uFF1F\uFF1F\uFF1F</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">mysql&gt; update mysql.user set password=password(&#39;881222&#39;) where user=&#39;root&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">							Password=PASSWORD(&#39;new_pass&#39;)            \u8FD9\u79CD\u4E48\uFF1F\uFF1F\uFF1F</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li></ul></li></ol><p><strong>\u5378\u8F7D\u670D\u52A1\uFF1A</strong></p><p>net stop mysql mysqld -remove #mysqld remove mysql2</p><h3 id="win\u4E0B\u542F\u52A8\u591A\u4E2Amysql\u670D\u52A1" tabindex="-1">win\u4E0B\u542F\u52A8\u591A\u4E2Amysql\u670D\u52A1 <a class="header-anchor" href="#win\u4E0B\u542F\u52A8\u591A\u4E2Amysql\u670D\u52A1" aria-hidden="true">#</a></h3><p>(regedit --&gt;&gt; HKEY_LOCAL_MACHINE---&gt;SYSTEM---&gt;CurrentControlSet---&gt;services\uFF09</p><ol><li><p>C:\\mysql-5.7.19-winx64-2\\bin\\mysqld -install mysql2 \u3001</p></li><li><p>\u5B89\u88C5\u4E4B\u540E\u76F4\u63A5net start mysql2\u5C31\u884C\u4E86\uFF0C\u4FEE\u6539\u6CE8\u518C\u8868\u7684\u90FD\u6CA1\u6709\u6210\u529F\uFF0C\u597D\u50CF\u4E0D\u7528\u4FEE\u6539\u6CE8\u518C\u8868</p><p>\u542F\u52A8\u4E0D\u6210\u529F\u65F6\uFF1A</p><p>\u200B 1\uFF09\u5148\u6267\u884C C:\\mysql-5.7.19-winx64-2\\bin\\mysqld --initialize-insecure #mysqld\u4E00\u5B9A\u8981\u7528\u5168\u8DEF\u5F84</p><p>\u200B 2\uFF09C:\\mysql-5.7.19-winx64-2\\bin\\mysqld --initialize --console #\u540C\u4E0A</p><p>\u200B 3\uFF09net start mysql2</p></li><li><p>\u767B\u5F55\uFF1AC:\\mysql-5.7.19-winx64-2\\bin\\mysql -uroot -P3307 -p</p></li></ol><h2 id="linux\u4E0Brpm\u5B89\u88C5" tabindex="-1">linux\u4E0Brpm\u5B89\u88C5 <a class="header-anchor" href="#linux\u4E0Brpm\u5B89\u88C5" aria-hidden="true">#</a></h2><p>1\uFF0Crpm -ivh mysql-community-common-5.7.19-1.el7.x86_64.rpm</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">\u5B89\u88C5\u65F6\u5019\u53EF\u80FD\u4F1A\u62A5\u9519\uFF1A</span></span>
<span class="line"><span style="color:#A6ACCD;">    file /usr/share/mysql/charsets/keybcs2.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64</span></span>
<span class="line"><span style="color:#A6ACCD;">    file /usr/share/mysql/charsets/koi8r.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64</span></span>
<span class="line"><span style="color:#A6ACCD;">    file /usr/share/mysql/charsets/koi8u.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64</span></span>
<span class="line"><span style="color:#A6ACCD;">    file /usr/share/mysql/charsets/latin1.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64</span></span>
<span class="line"><span style="color:#A6ACCD;">    file /usr/share/mysql/charsets/latin2.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64</span></span>
<span class="line"><span style="color:#A6ACCD;">    file /usr/share/mysql/charsets/latin5.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64</span></span>
<span class="line"><span style="color:#A6ACCD;">    file /usr/share/mysql/charsets/latin7.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64</span></span>
<span class="line"><span style="color:#A6ACCD;">    file /usr/share/mysql/charsets/macce.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64</span></span>
<span class="line"><span style="color:#A6ACCD;">    file /usr/share/mysql/charsets/macroman.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64</span></span>
<span class="line"><span style="color:#A6ACCD;">    file /usr/share/mysql/charsets/swe7.xml from install of mysql-community-common-5.7.19-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.52-1.el7.x86_64</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">\u89E3\u51B3\u65B9\u6CD5\uFF1A</span></span>
<span class="line"><span style="color:#A6ACCD;">yum remove mariadb-libs</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>rpm -ivh mysql-community-libs-5.7.19-1.el7.x86_64.rpm</p><p>rpm -ivh mysql-community-client-5.7.19-1.el7.x86_64.rpm</p><p>yum install libaio libaio-devel</p><p>rpm -ivh mysql-community-server-5.7.19-1.el7.x86_64.rpm \u53C2\u8003\u6587\u7AE0\uFF08\u91CC\u9762\u5305\u542B\u4E3B\u4ECE\u914D\u7F6E\uFF09\uFF1A<a href="http://blog.csdn.net/ziele_008/article/details/77751051" target="_blank" rel="noreferrer">http://blog.csdn.net/ziele_008/article/details/77751051</a></p><h2 id="linux\u6E90\u7801\u7F16\u8BD1\u5B89\u88C5" tabindex="-1">linux\u6E90\u7801\u7F16\u8BD1\u5B89\u88C5 <a class="header-anchor" href="#linux\u6E90\u7801\u7F16\u8BD1\u5B89\u88C5" aria-hidden="true">#</a></h2><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">cd /usr/local/src/mysql-5.7.19/</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">cmake -DCMAKE_INSTALL_PREFIX=/usr/local/mysql-5.7.19 -DMYSQL_DATADIR=/data/mysql-5.7.19 -DMYSQL_UNIX_ADDR=/data/mysql-5.7.19/mysql.sock -DWITH_INNOBASE_STORAGE_ENGINE=1 -DENABLED_LOCAL_INFILE=1  -DDEFAULT_CHARSET=utf8  -DDEFALUT_CHARSETS=all  -DWITH_BLACKHOLE_STORAGE_ENGINE=1  -DWITH_ARCHIVE_STORAGE_ENGINE=1  -DWITH_PARTITION_STORAGE_ENGINE=1   -DDEFAULT_COLLATION=utf8_general_ci  -DMYSQL_USER=mysql   -DEXTRA_CHARSETS=all  -DMYSQL_TCP_PORT=3306  -DWITH_DEBUG=0 -DWITH_BOOST=../boost_1_59_0</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">\u65B0\u52A0\u7684\u53C2\u6570\uFF1A</span></span>
<span class="line"><span style="color:#A6ACCD;">\u4ECEMySQL 5.7.5\u5F00\u59CBBoost\u5E93\u662F\u5FC5\u9700\u7684</span></span>
<span class="line"><span style="color:#A6ACCD;">-DWITH_BOOST=boost/boost_1_59_0/  \u6307\u5B9Aboost\u7684\u4F4D\u7F6E\uFF0C\u5982-DWITH_BOOST=../boost_1_59_0</span></span>
<span class="line"><span style="color:#A6ACCD;">-DDOWNLOAD_BOOST=1 -DWITH_BOOST=1    \u7CFB\u7EDF\u4F1A\u5728\u7F16\u8BD1\u4E4B\u524D\u5148\u4E0B\u8F7Dboost</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u5982\u679C\u4E4B\u524D\u7F16\u8BD1\u4E0D\u6210\u529F\uFF0C\u8BF7\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\uFF1A</p><p>make clean</p><p>rm CMakeCache.txt</p><p>\u521B\u5EFAuser\u3001group\uFF0C\u4FEE\u6539datadir\u7684\u5C5E\u4E3B\u548C\u5C5E\u7EC4</p><p>(\u53EF\u9009)\u5B89\u88C5ssl,\u53EF\u6307\u5B9A\u6587\u4EF6\u751F\u6210\u8DEF\u5F84\uFF0C\u9ED8\u8BA4\u4E3ADATA\u91CC\u9762, /usr/local/mysql-5.7.19/bin]#./mysql_ssl_rsa_setup</p><p>\u521D\u59CB\u5316\u6570\u636E\u5E93\uFF1A/usr/local/mysql-5.7.19/bin]# ./mysqld --initialize --user=mysql --basedir=/usr/local/mysql-5.7.19 --datadir=/data/mysql-5.7.19</p><p>\u590D\u5236\u542F\u52A8\u6587\u4EF6\uFF1A/usr/local/mysql-5.7.19/support-files]#cp mysql.server /etc/init.d/mysqld 2\uFF0C/etc/init.d/mysqld start \u5982\u679C\u542F\u52A8\u6587\u4EF6\u6CA1\u6709\u590D\u5236/etc/init.d/mysqld\uFF0C\u542F\u52A8\u65B9\u5F0F\u5982\u4E0B\uFF1A .<strong>/mysqld_safe --defaults-file=/etc/my.cnf &amp;</strong></p>`,34),o=[e];function t(i,c,r,m,y,A){return a(),l("div",null,o)}const u=s(p,[["render",t]]);export{d as __pageData,u as default};
